<!DOCTYPE html>
<html lang="en">
<head>
  <title>Hangouts Notifications options</title>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" type="text/css" href="options.css">
  <link rel="stylesheet" type="text/css" href="balloon.min.css">
</head>
<body>

  <header>
    <img src="../icons/128.png" width="104" alt="Hangouts Notifications">
    <h1 class="title">Hangouts Notifications</h1>
  </header>

  <div class="configuration">
    <form id="js-save" action='/' method="GET">
      <div class="options">
        <div class="option-group new hidden">
          <div class="option">
            <small>The extension has just been updated. You may need to refresh any existing tab for it to work again. Sorry for the inconvenience!</small>
          </div>
        </div>
      <div class="options">
        <div id="js-tab-permissions" class="option-group tab-permissions">
          <h4>Avoid opening multiple tabs <small class="new">new</small></h4>
          <div class="option">
             The extension needs extra permissions to the open tabs to be able to avoid opening multiple tabs with same URL
             <br /><br />
             <a id="js-request-tab-permissions" href="#">Grant permission</a>
          </div>
        </div>

        <div class="option-group">
          <h4>Notify me when</h4>
          <div class="option">
            <input type="checkbox" name="showOnlineNotifications" id="showOnlineNotifications">
             A contact becomes online
          </div>
          <div class="option">
            <input type="checkbox" name="showUnreadNotifications" id="showUnreadNotifications">
            There's a new chat message
          </div>
        </div>

        <div class="option-group">
          <h4>Sound</h4>
          <div class="option">
            <input type="checkbox" name="playSound" id="playSound">
            Play sound  <span class="as-link" data-balloon="In case you want the extension to manage the notification sound" data-balloon-length="large">?</span>
          </div>
        </div>

        <div class="option-group">
          <div class="option">
            <h4>Notifications expiration time</h4>
            <div class="expiration-time">
              <input type="text" id="expirationTime" class="input" placeholder="Ex: 5">
              <br />
              <small>Time in seconds. If it's invalid or empty, the default is used which will depend on your Operative System (Windows/macOS/Linux/etc)</small>
            </div>
          </div>
        </div>

        <div class="option-group">
          <h4>Only receive notifications with <small class="new hidden">new</small></h4>
          <div class="option">
            <input type="text" id="messageKeywords" class="input" placeholder="Ex: Work, Mom">
            <small>Will check the text for the provided keywords, separated by commas. Keywords are not case sensitive <span class="as-link" data-balloon="Use it if you only want to get notifications with certain keywords" data-balloon-length="large">?</span></small>
          </div>
        </div>

        <div class="option-group">
          <h4>Mute all notifications except for</h4>
          <div class="option">
            <input type="text" id="muteAllExcept" class="input" placeholder="Ex: Jack Black, Johana White">
            <small>Names as they appear in Hangouts, separated by commas. Names are not case sensitive <span class="as-link" data-balloon="Use it if you only want to get notifications from certain users" data-balloon-length="large">?</span></small>
          </div>
        </div>

        <div class="option-group">
          <h4>Site to open on icon click</h4>
          <div class="option">
            <input type="text" id="iconClickURL" class="input" placeholder="Ex: hangouts.google.com">
            <small>What to open when you click the extension icon. The default is <span class="js-icon-click-example as-link" data-href="hangouts.google.com">Hangouts</span>, you can also use <span class="js-icon-click-example as-link" data-href="mail.google.com">Gmail</span> or <span class="js-icon-click-example as-link" data-href="inbox.google.com">Inbox</span></small>
          </div>
        </div>

        <div class="option">
          <span id="js-toggle-advanced" class="as-link" data-advanced-status="hidden">Show advanced</span>
        </div>

        <div class="advanced-options hidden">
          <div class="option-group">
            <h4>Mute notifications when</h4>
            <div class="option">
              <input type="checkbox" name="fireOnInactiveTab" id="fireOnInactiveTab">
              <span>The hangouts tab is active</span>  <span class="as-link" data-balloon="If left unchecked the notification will appear even if you're looking at the page that has the Hangouts chat" data-balloon-length="large">?</span>
            </div>
          </div>

          <div class="option-group no-border">
            <h4>Mute on</h4>
            <div class="option">
              <small>Stop certain URLs from sending notifications <span class="as-link" data-balloon="To disable certain Google products or accounts from firing notifications, you can add URLs to disable below, one per line" data-balloon-length="large">?</span><br />Try clicking the items below to see how it works:</small>
              <ul>
                <li><small><span class="js-disable-example as-link" data-href="mail.google.com">Gmail</span></small></li>
                <li><small><span class="js-disable-example as-link" data-href="inbox.google.com">Inbox</span></small></li>
                <li><small><span class="js-disable-example as-link" data-href="hangouts.google.com">Hangouts</span></small></li>
              </ul>
              <textarea id="disabledUrls" class="input" name="disabledUrls" cols="40" rows="5" placeholder="Write your desired URL filters here"></textarea>
              <small>Google recognizes the logged account using the URL, you can use this to disable a specific account.<br />For example, if you have two Gmail accounts, one will end with <span class="js-disable-example as-link" data-href="mail.google.com/mail/u/0">/mail/u/0</span> and the other with <span class="js-disable-example as-link" data-href="mail.google.com/mail/u/1">/mail/u/1</span>.</small>
            </div>
          </div>
        </div>
      </div>

      <div class="save-button">
        <input type="submit" class="btn btn-primary" value="Save changes">
      </div>
    </form>

    <br />

    <div class="option">
      <ul class="help-list">
        <li>
          <small><b>Remember</b> You need to keep your <a href="https://mail.google.com" target="_blank">gmail</a>, <a href="https://inbox.google.com" target="_blank">inbox</a> or <a href="https://hangouts.google.com" target="_blank">hangouts</a> tab open for the extension to work.
          <br/>Also, Chrome now uses native notifications. So if the extension is not working you might need to enable notifications in your Mac/Windows/Linux settings.
          <br/>I am not affiliated with Google in any way, so it's the best I can do :)</small>
        </li>
        <li>
          <a href="https://www.youtube.com/watch?v=eyO_K9JDLC8" target="_blank" data-balloon="A bit outdated">View example video (Turn CC on)</a>
        </li>
        <li>
          <a class="mailto" href="mailto:santangelonicolas+hangouts@gmail.com" target="_blank">Have an issue? Send me an email</a>
        </li>
      </ul>
    </div>

    <br />

    <div id="notice" class="notice hidden">
      <span id="js-close-notice" class="close-notice">x</span>
      <div class="text-center"><b>Options saved!</b></div>
      <div class="text-center">The extension is ready to be used</div>
    </div>
  </div>

  <script src="../optionalPermissions.js"></script>
  <script src="../configuration.js"></script>
  <script src="options.js"></script>
  <script src="analytics.js" async></script>
</body>
</html>
